<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="/static/favicon.png">
  <title>Liminal Bridge</title>

  <!-- Popper  -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>

  <!-- Bootstrap CSS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
    integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
    crossorigin="anonymous"></script>

  <!-- Bootstrap JS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

  <!-- Poppins font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/static/styles.css">
</head>

<body>
  <header>

    <nav class="navbar" role="navigation" aria-label="main navigation">
      <div class="container-fluid">
        <a class="navbar-brand mx-0" href="/" style="color: white;">
          <img src="/static/img/app03.png" alt="liminal logo">
          Liminal
        </a>

        <ul class="navbar-nav d-flex flex-row align-items-center gap-3">

          <li class="nav-item">
            <a class="nav-link" tabindex="0" href="/allTransactions" style="color: var(--secondary-color);"
              data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-placement="bottom"
              data-bs-content="Processed transactions">
              <svg xmlns="http://www.w3.org/2000/svg" width="38" height="27" fill="currentColor" class="bi bi-bricks"
                viewBox="0 0 16 16">
                <path
                  d="M0 .5A.5.5 0 0 1 .5 0h15a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5H14v2h1.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5H14v2h1.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5H.5a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5H2v-2H.5a.5.5 0 0 1-.5-.5v-3A.5.5 0 0 1 .5 6H2V4H.5a.5.5 0 0 1-.5-.5zM3 4v2h4.5V4zm5.5 0v2H13V4zM3 10v2h4.5v-2zm5.5 0v2H13v-2zM1 1v2h3.5V1zm4.5 0v2h5V1zm6 0v2H15V1zM1 7v2h3.5V7zm4.5 0v2h5V7zm6 0v2H15V7zM1 13v2h3.5v-2zm4.5 0v2h5v-2zm6 0v2H15v-2z" />
              </svg>
            </a>

          </li>

          <li class="nav-item">
            <a class="nav-link" tabindex="0" href="/myTransactions" style="color: var(--secondary-color);"
              data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-placement="top"
              data-bs-content="Check your transactions">
              <svg xmlns="http://www.w3.org/2000/svg" width="38" height="27" fill="currentColor"
                class="bi bi-clock-history" viewBox="0 0 16 16">
                <path
                  d="M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022zm2.004.45a7 7 0 0 0-.985-.299l.219-.976q.576.129 1.126.342zm1.37.71a7 7 0 0 0-.439-.27l.493-.87a8 8 0 0 1 .979.654l-.615.789a7 7 0 0 0-.418-.302zm1.834 1.79a7 7 0 0 0-.653-.796l.724-.69q.406.429.747.91zm.744 1.352a7 7 0 0 0-.214-.468l.893-.45a8 8 0 0 1 .45 1.088l-.95.313a7 7 0 0 0-.179-.483m.53 2.507a7 7 0 0 0-.1-1.025l.985-.17q.1.58.116 1.17zm-.131 1.538q.05-.254.081-.51l.993.123a8 8 0 0 1-.23 1.155l-.964-.267q.069-.247.12-.501m-.952 2.379q.276-.436.486-.908l.914.405q-.24.54-.555 1.038zm-.964 1.205q.183-.183.35-.378l.758.653a8 8 0 0 1-.401.432z" />
                <path d="M8 1a7 7 0 1 0 4.95 11.95l.707.707A8.001 8.001 0 1 1 8 0z" />
                <path
                  d="M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5" />
              </svg>
            </a>
          </li>
          <li class="nav-item">
            <button class="btn f-neuro" id="connect-btn">Connect</button>
          </li>
        </ul>
      </div>
    </nav>
  </header>

  <main class="d-flex align-items-center justify-content-center">

    <div class="w-100">
      <div class="d-flex flex-column container border-subtle rounded-4 mt-m-5 mt-3 p-3 bridge-box g-1">
        <div class="mb-2 f-neuro">
          <h1> Liminal Bridge</h1>

        </div>


        <div class="d-flex flex-column gap-1 mb-3">
          <form class="row align-items-center">
            <div class="col-6 col-md-5 pe-1 pe-md-1">
              <label for="select-chainA" class="form-label color-third" style="font-size:11px">From</label>
              <div class="dropdown custom-dropdown1  main-transparent-hover" id="dropdownChainA">
                <button
                  class="btn form-select main-transparent-hover dropdown-toggle d-flex align-items-center overflow-x-hidden"
                  type="button" data-bs-toggle="dropdown" aria-expanded="false">
                  <img src="/static/img/ethereum.svg" alt="Ethereum logo" class="dropdown-icon me-2" />
                  <span>Ethereum</span>
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownChainA">
                  <li style="display: none;">
                    <a data-value="ETH" class="dropdown-item d-flex align-items-center" href="#">
                      <img src="/static/img/ethereum.svg" alt="Ethereum logo" class="dropdown-icon me-2" />
                      Ethereum
                    </a>
                  </li>
                  <li style="display: none;">
                    <a data-value="ETC" class="dropdown-item d-flex align-items-center" href="#">
                      <img src="/static/img/etc.svg" alt="Ethereum Classic logo" class="dropdown-icon me-2" />
                      Ethereum Classic
                    </a>
                  </li>
                  <li>
                    <a data-value="BASE" class="dropdown-item d-flex align-items-center" href="#">
                      <img src="/static/img/base.svg" alt="Base logo" class="dropdown-icon me-2" />
                      Base
                    </a>
                  </li>
                  <li>
                    <a data-value="BNB" class="dropdown-item d-flex align-items-center" href="#">
                      <img src="/static/img/bnb.svg" alt="BNB logo" class="dropdown-icon me-2" />
                      BNB
                    </a>
                  </li>
                </ul>
                <input type="hidden" id="select-chainA" name="chainA" value="ETH">
              </div>
            </div>

            <div class="col-2 d-md-flex justify-content-center d-none align-bottom">
              <button type="button" id="switch-chains-btn" data-bs-toggle="popover" data-bs-trigger="hover"
                data-bs-placement="top" data-bs-content="Switch chains"
                class="btn border-subtle background-main-transparent main-transparent-hover rounded-4 color-third mx-auto mt-4"
                onclick="handleSwitchChainsClick()">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                  class="bi bi-arrow-right" viewBox="0 0 16 16">
                  <path fill-rule="evenodd"
                    d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8" />
                </svg>
              </button>
            </div>

            <div class="col-6 col-md-5 ps-1 ps-md-1">
              <label for="select-chainB" class="form-label color-third" style="font-size:11px">To</label>

              <div class="dropdown custom-dropdown2" id="dropdownChainB">
                <button
                  class="btn form-select main-transparent-hover dropdown-toggle d-flex align-items-center overflow-x-hidden"
                  type="button" data-bs-toggle="dropdown" aria-expanded="false">
                  <img src="/static/img/etc.svg" alt="Ethereum Classic logo" class="dropdown-icon me-2" />
                  <span>Ethereum Classic</span>
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownChainB">
                  <li style="display: none;">
                    <a data-value="ETH" class="dropdown-item d-flex align-items-center" href="#">
                      <img src="/static/img/ethereum.svg" alt="Ethereum logo" class="dropdown-icon me-2" />
                      Ethereum
                    </a>
                  </li>
                  <li style="display: none;">
                    <a data-value="ETC" class="dropdown-item d-flex align-items-center" href="#">
                      <img src="/static/img/etc.svg" alt="Ethereum Classic logo" class="dropdown-icon me-2" />
                      Ethereum Classic
                    </a>
                  </li>
                  <li>
                    <a data-value="BASE" class="dropdown-item d-flex align-items-center" href="#">
                      <img src="/static/img/base.svg" alt="Base logo" class="dropdown-icon me-2" />
                      Base
                    </a>
                  </li>
                  <li>
                    <a data-value="BNB" class="dropdown-item d-flex align-items-center" href="#">
                      <img src="/static/img/bnb.svg" alt="BNB logo" class="dropdown-icon me-2" />
                      BNB
                    </a>
                  </li>
                </ul>
                <input type="hidden" id="select-chainB" name="chainB" value="ETC">
              </div>
            </div>
          </form>

        </div>

        <div class="border-subtle rounded-4 p-2 background-main-transparent main-transparent-hover">
          <div class="row">
            <div class="col">
              <label for="floatingInput" class="color-third">You send</label>
              <input type="number" class="form-control no-arrows" id="floatingInput" placeholder="0">
            </div>

            <div class="col  mt-auto">
              <div class="dropdown d-flex justify-content-end select-token-btn">
                <button class="btn main-transparent-hover dropdown-toggle" type="button" data-bs-toggle="dropdown"
                  aria-expanded="false">
                  <img src="/static/img/ethereum.svg" alt="ETH logo" class="dropdown-icon me-2" /> ETH
                </button>
                <ul class="dropdown-menu" aria-labelledby="select-token-btn">
                  <li>
                    <a class="dropdown-item" href="#" id="token-ETH" data-value="ETH"
                      data-img="/static/img/ethereum.svg">
                      <img src="/static/img/ethereum.svg" alt="ETH logo" class="dropdown-icon me-2" /> ETH
                    </a>
                  </li>
                  <li>
                    <a class="dropdown-item" href="#" id="token-BTC" data-value="BTC" data-img="/static/img/btc.svg">
                      <img src="/static/img/btc.svg" alt="BTC logo" class="dropdown-icon me-2" /> wBTC
                    </a>
                  </li>
                  <li>
                    <a class="dropdown-item" href="#" id="token-USDC" data-value="USDC" data-img="/static/img/usdc.svg">
                      <img src="/static/img/usdc.svg" alt="USDC logo" class="dropdown-icon me-2" /> USDC
                    </a>
                  </li>
                  <li>
                    <a class="dropdown-item" href="#" id="token-USDT" data-value="USDT" data-img="/static/img/usdt.svg">
                      <img src="/static/img/usdt.svg" alt="USDT logo" class="dropdown-icon me-2" /> USDT
                    </a>
                  </li>
                </ul>
                <input type="hidden" id="selected-token" value="ETH">
              </div>
            </div>
          </div>

          <div class="row mt-1 color-third" style="font-size: 10px;">
            <div class="col">
              $Value in USD
            </div>

            <div class="col text-end">
              Balance: XXX $Token
              <button type="button"
                style="border: none; background-color: #ffffff00; color: var(--fourth-color);">Max</button>
            </div>
          </div>
        </div>

        <div class="d-flex flex-md-row flex-column justify-content-between mt-2">
          <div id="you-receive" class="border-subtle rounded-4 p-2 background-main-transparent">
            <p class="color-third" style="font-size: 10px;">You receive</p>

            <span>Amount</span>
          </div>

          <div id="to-address" class="border-subtle rounded-4 p-2 background-main-transparent main-transparent-hover">
            <p class="color-third" style="font-size: 10px;">To address</p>

            <span>Address</span>
          </div>
        </div>

        <div class="w-50 mx-auto mt-3">
          <button type="button" class="btn w-100 fw-bold f-neuro" id="send-tx-btn"> Send </button>
        </div>
      </div>
    </div>
  </main>
  <footer class="text-center">
    &copy; 2025 Liminal Bridge
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      let popoverElements = document.querySelectorAll('[data-bs-toggle="popover"]');
      const isTouchDevice = ('ontouchstart' in window) || (navigator.maxTouchPoints > 0);

      popoverElements.forEach(el => {
        if (!isTouchDevice) {
          new bootstrap.Popover(el);
        }
      });
    });

    function setupDropdown(selector, updateButton) {
      document.querySelectorAll(selector).forEach(dropdown => {
        const button = dropdown.querySelector(".dropdown-toggle");
        const hiddenInput = dropdown.querySelector("input[type=hidden]");
        const oppositeDropdownId = dropdown.id === "dropdownChainA" ? "dropdownChainB" : "dropdownChainA";

        dropdown.querySelectorAll(".dropdown-item").forEach(item => {
          item.addEventListener("click", (e) => {
            e.preventDefault();
            const value = item.getAttribute("data-value").trim();
            const text = item.textContent.trim();
            const imgSrc = item.querySelector("img")?.src || item.getAttribute("data-img");

            if (updateButton) {
              button.innerHTML = `<img src="${imgSrc}" alt="${text} logo" class="dropdown-icon me-2" />${text}`;

              const toggleItemInDropdown = (dropdownID) => {
                const currentDropdown = document.getElementById(dropdownID)
                const oppositeDropdown = document.getElementById(oppositeDropdownId);
                const oppositeHiddenInput = oppositeDropdown.querySelector("input[type=hidden]");
                const dropdownItems = currentDropdown.querySelectorAll(".dropdown-item")
                const oppositeItems = oppositeDropdown ? oppositeDropdown.querySelectorAll(".dropdown-item") : [];

                oppositeItems.forEach(item => {
                  const itemValue = item.getAttribute("data-value").trim();
                  item.parentElement.style.display = "block"

                  if (itemValue === value || itemValue === oppositeHiddenInput.value) {
                    item.parentElement.style.display = "none"
                  }
                });

                dropdownItems.forEach((dropdownItem, index) => {
                  const itemValue = dropdownItem.getAttribute("data-value").trim();
                  const oppositeValue = oppositeHiddenInput.value.trim();
                  dropdownItem.parentElement.style.display = "block";

                  if (itemValue === value || itemValue === oppositeValue) {
                    dropdownItem.parentElement.style.display = "none";
                  }
                });
              }

              toggleItemInDropdown(dropdown.id)
            }

            hiddenInput.value = value;
          });
        });
      });
    }

    function handleSwitchChainsClick() {
      const chainSelectorA = document.getElementById("dropdownChainA")
      const buttonA = chainSelectorA.querySelector(".dropdown-toggle");
      const hiddenInputA = chainSelectorA.querySelector("input[type=hidden]");

      const chainSelectorB = document.getElementById("dropdownChainB")
      const buttonB = chainSelectorB.querySelector(".dropdown-toggle");
      const hiddenInputB = chainSelectorB.querySelector("input[type=hidden]");

      const tempValue = hiddenInputA.value;
      const tempButtonHTML = buttonA.innerHTML;

      hiddenInputA.value = hiddenInputB.value;
      buttonA.innerHTML = buttonB.innerHTML;

      hiddenInputB.value = tempValue;
      buttonB.innerHTML = tempButtonHTML;
    }

    document.addEventListener("DOMContentLoaded", function () {
      // This is for the chain selector
      setupDropdown(".custom-dropdown1", true);
      setupDropdown(".custom-dropdown2", true);
      // This is for the token selector
      setupDropdown(".select-token-btn", true);
    });
  </script>
</body>

</html>
